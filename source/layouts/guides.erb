<!doctype html>
<html>
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title><%= current_page.data.title || "Middleman" %></title>

    <script src="https://use.typekit.net/lem3gmz.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <%= stylesheet_link_tag :site %>
    <%= javascript_include_tag :all %>
  </head>

  <body class="<%= page_classes %>">
    <div class="container">
      <%= partial 'nav' %>

      <div class="content">
        <div class="sidebar">
          <ul>
            <% guides.each do |g| %>
              <li class="<%= "current" if g == current_page %>">
                  <%= link_to g.data.title, g.url %>
                  <% if g == current_page %>
                    <%= table_of_contents(g) %>
                  <% end %>
                </li>
            <% end %>
          </ul>
        </div>


        <article>
          <%= yield %>
        </article>
      </div>
    </div>
  </body>
</html>
